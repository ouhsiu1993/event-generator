# Event Generator

Event Generator æ˜¯ä¸€å€‹å°ˆæ¥­çš„ç¶²é è¿½è¹¤äº‹ä»¶ä»£ç¢¼ç”Ÿæˆå·¥å…·ï¼Œå”åŠ©è¡ŒéŠ·äººå“¡å’Œé–‹ç™¼è€…å¿«é€Ÿå‰µå»ºã€ç®¡ç†å’Œéƒ¨ç½²æ¨™æº–åŒ–çš„è¿½è¹¤ä»£ç¢¼ã€‚é€éç›´è¦ºçš„ä½¿ç”¨è€…ä»‹é¢ï¼Œä½¿ç”¨è€…èƒ½å¤ è¼•é¬†é…ç½®å„ç¨®äº‹ä»¶è¿½è¹¤åƒæ•¸ï¼Œä¸¦åŒ¯å‡ºè‡³å¤šç¨®æ ¼å¼ä»¥ä¾¿å¯¦æ–½ã€‚

![Event Generator é è¦½åœ–](event-generator.gif)

## ğŸŒŸ ä¸»è¦åŠŸèƒ½

- **åŸºç¤ä»£ç¢¼ç”Ÿæˆ**ï¼šæ ¹æ“šç¶²ç«™åºè™Ÿè‡ªå‹•ç”ŸæˆåŸºç¤è¿½è¹¤ä»£ç¢¼
- **å¤šç¨®äº‹ä»¶é¡å‹**ï¼šæ”¯æ´é€šç”¨ã€æ´»å‹•ã€å…§å®¹ã€é›»å•†å’Œè‡ªè¨‚äº‹ä»¶ç­‰å¤šç¨®é¡å‹
- **åƒæ•¸è‡ªå®šç¾©**ï¼šé‡å°ä¸åŒäº‹ä»¶æä¾›å½ˆæ€§çš„åƒæ•¸è¨­å®šï¼ŒåŒ…å«å¿…å¡«èˆ‡é¸å¡«æ¬„ä½
- **å¤šæ¨™ç±¤é ç®¡ç†**ï¼šä¾¿æ–¼åœ¨ä¸åŒäº‹ä»¶ä»£ç¢¼é–“åˆ‡æ›çš„æ¨™ç±¤å¼ä»‹é¢
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šå®Œç¾é©é…æ¡Œé¢èˆ‡è¡Œå‹•è£ç½®çš„å„ç¨®è¢å¹•å°ºå¯¸
- **PPT åŒ¯å‡º**ï¼šä¸€éµå°‡æ‰€æœ‰è¿½è¹¤ä»£ç¢¼åŒ¯å‡ºç‚º PowerPoint ç°¡å ±
- **é›²ç«¯æ•´åˆ**ï¼šæ”¯æ´å°‡é…ç½®å„²å­˜è‡³ Google Sheets ä»¥ä¾¿åœ˜éšŠå”ä½œ

## ğŸ“Š æ”¯æ´çš„äº‹ä»¶é¡å‹

### é€šç”¨äº‹ä»¶
- é é¢ç€è¦½ (page_view)
- è¡¨å–®äº’å‹• (form_start)
- è¡¨å–®æäº¤ (form_submit)
- ä½¿ç”¨è€…ç™»å…¥ (login)
- å…§å®¹åˆ†äº« (share)

### æ´»å‹•äº‹ä»¶
- æ´»å‹•ç¶²ç«™é¦–é ç€è¦½ (view_site)
- é–‹å§‹é—œå¡ (level_start)
- çµæŸé—œå¡ (level_end)
- ç™¼ä½ˆåˆ†æ•¸ (post_score)

### å…§å®¹äº‹ä»¶
- æ–‡ç« é ç€è¦½ (view_article)
- æ»¾å‹•æ·±åº¦ (scroll_depth)

### é›»å•†äº‹ä»¶
- åŠ å…¥è³¼ç‰©è»Š (add_to_cart)
- å¾è³¼ç‰©è»Šç§»é™¤ (remove_from_cart)
- æŸ¥çœ‹è³¼ç‰©è»Š (view_cart)
- é–‹å§‹çµå¸³ (begin_checkout)
- æäº¤é‹é€è³‡è¨Š (add_shipping_info)
- æäº¤ä»˜æ¬¾è³‡è¨Š (add_payment_info)
- è³¼è²·å•†å“ (purchase)
- é€€æ¬¾ (refund)
- ç€è¦½å•†å“ (view_item)
- ç€è¦½å•†å“æ¸…å–® (view_item_list)

### è‡ªè¨‚äº‹ä»¶
- æ”¯æ´ä½¿ç”¨è€…è‡ªå®šç¾©çš„è¿½è¹¤äº‹ä»¶åç¨±å’Œåƒæ•¸

## ğŸ”§ æŠ€è¡“æ¶æ§‹

æœ¬å°ˆæ¡ˆæ¡ç”¨äº†ç¾ä»£åŒ–çš„ä¸‰å±¤æ¶æ§‹è¨­è¨ˆï¼š

1. **å‰ç«¯**ï¼šç´” HTML/CSS/JavaScript å¯¦ç¾ï¼Œç„¡æ¡†æ¶ä¾è³´
   - ä½¿ç”¨ Tailwind CSS é€²è¡Œæ¨£å¼è¨­è¨ˆ
   - æ•´åˆ PptxGenJS ç”¨æ–¼ç”Ÿæˆ PowerPoint ç°¡å ±
   - éŸ¿æ‡‰å¼è¨­è¨ˆé©é…å„ç¨®è£ç½®

2. **ä¸­é–“å±¤**ï¼š
   - ä½¿ç”¨ Cloudflare Worker ä½œç‚º API è½‰ç™¼ä»£ç†
   - è™•ç†è·¨åŸŸè«‹æ±‚ä¸¦æä¾›é¡å¤–çš„å®‰å…¨å±¤

3. **å¾Œç«¯**ï¼š
   - ä½¿ç”¨ Google Apps Script å¯¦ç¾è³‡æ–™æŒä¹…åŒ–
   - å°‡è¿½è¹¤ä»£ç¢¼è¨­å®šå„²å­˜è‡³çµæ§‹åŒ–çš„ Google Sheets
   - æ”¯æ´å¤šå·¥ä½œè¡¨åˆ†é¡ç®¡ç†

## ğŸ“ ç³»çµ±æ¶æ§‹åœ–

```
+------------------+     +--------------------+     +-------------------+
|                  |     |                    |     |                   |
|  Web Frontend    |---->| Cloudflare Worker  |---->| Google Apps Script|
|  (HTML/JS/CSS)   |     | (API Gateway)      |     | (Data Storage)    |
|                  |     |                    |     |                   |
+------------------+     +--------------------+     +-------------------+
                                                            |
                                                            v
                                                    +-------------------+
                                                    |                   |
                                                    |   Google Sheets   |
                                                    |   (Database)      |
                                                    |                   |
                                                    +-------------------+
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### æœ¬åœ°éƒ¨ç½²

1. å…‹éš†æœ¬å°ˆæ¡ˆ
   ```bash
   git clone https://github.com/ouhsiu1993/event-generator.git
   cd event-generator
   ```

2. å»ºç«‹æœ¬åœ°ç’°å¢ƒè¨­å®š
   - è¤‡è£½ `.env.example` ç‚º `.env`
   - ç·¨è¼¯ `.env` æª”æ¡ˆï¼Œå¡«å…¥æ‚¨çš„å¯¦éš› API URL
   ```
   CLOUDFLARE_WORKER_URL=https://your-worker-url.workers.dev/
   GOOGLE_SHEET_WEBHOOK_URL=https://script.google.com/macros/s/your-script-id/exec
   ```

3. é…ç½® Cloudflare Worker
   - å‰µå»ºä¸€å€‹ Cloudflare Worker å°ˆæ¡ˆ
   - ä½¿ç”¨ `worker.ts` å…§çš„ä»£ç¢¼éƒ¨ç½² Worker
   - å°‡ worker.ts ä¸­çš„ `YOUR_GOOGLE_APPS_SCRIPT_DEPLOYMENT_URL` æ›¿æ›ç‚ºæ‚¨çš„ Google Apps Script URL
   - è¨˜ä¸‹ Worker çš„ URL ä¸¦æ›´æ–°åˆ° `.env` æª”æ¡ˆ

4. è¨­ç½® Google Apps Script
   - å‰µå»ºä¸€å€‹æ–°çš„ Google Apps Script å°ˆæ¡ˆ
   - è¤‡è£½ `appscript` å…§çš„ä»£ç¢¼åˆ° Apps Script ç·¨è¼¯å™¨
   - éƒ¨ç½²ç‚ºç¶²é æ‡‰ç”¨ç¨‹å¼ï¼Œç¢ºä¿æ¬Šé™è¨­å®šç‚ºã€Œæ‰€æœ‰äººï¼Œç”šè‡³åŒ¿åä½¿ç”¨è€…ã€
   - è¨˜ä¸‹éƒ¨ç½²å¾Œçš„ URL

5. æ›´æ–°é…ç½®
   - ç¢ºèª `config.js` ä¸­çš„ apiUrl è¨­å®šï¼š
   ```javascript
   const config = {
     apiUrl: 'http://localhost:8787/' // æœ¬åœ°é–‹ç™¼æ™‚æ”¹ç‚ºæ‚¨çš„ Cloudflare Worker URL
   };
   ```

6. å•Ÿå‹•æ‡‰ç”¨
   - ä½¿ç”¨æœ¬åœ°ä¼ºæœå™¨æˆ–ç›´æ¥é–‹å•Ÿ `index.html`
   ```bash
   # å¦‚æœæœ‰ Node.js ç’°å¢ƒï¼Œå¯ä»¥ä½¿ç”¨ http-server
   npx http-server
   ```

## ğŸ–¥ï¸ ä½¿ç”¨æ–¹æ³•

1. è¼¸å…¥ä»£ç¢¼åç¨±å’Œç¶²ç«™åºè™Ÿ
2. é»æ“Šã€Œ+ã€æŒ‰éˆ•æ·»åŠ éœ€è¦çš„äº‹ä»¶
3. é¸æ“‡äº‹ä»¶é¡å‹ä¸¦è¨­å®šåƒæ•¸
4. æŸ¥çœ‹ä¸¦è¤‡è£½ç”Ÿæˆçš„è¿½è¹¤ä»£ç¢¼
5. ä½¿ç”¨ã€Œä¸‹è¼‰ PPTã€æˆ–ã€Œå„²å­˜è‡³ Google è¡¨å–®ã€åŠŸèƒ½ä¿å­˜çµæœ

## ğŸ› ï¸ é–‹ç™¼è€…èªªæ˜

å¦‚éœ€æ“´å±•ç³»çµ±åŠŸèƒ½ï¼š

1. æ·»åŠ æ–°çš„äº‹ä»¶é¡å‹
   - åœ¨ `eventData` ç‰©ä»¶ä¸­æ·»åŠ æ–°çš„äº‹ä»¶é¡å‹
   - åœ¨ `eventParamsTemplate` ä¸­å®šç¾©æ–°äº‹ä»¶çš„é è¨­åƒæ•¸
   - åœ¨ `getEventParamsDef` ä¸­è¨­å®šåƒæ•¸çš„è©³ç´°å®šç¾©

2. ä¿®æ”¹ Google Apps Script
   - èª¿æ•´ `doPost` å‡½æ•¸ä»¥æ”¯æ´æ–°çš„æ•¸æ“šçµæ§‹
   - æ›´æ–°å·¥ä½œè¡¨æ ¼å¼ä»¥é©æ‡‰æ–°çš„å­—æ®µ

3. è‡ªå®šç¾© UI
   - ä¿®æ”¹ CSS æ¨£å¼ä»¥ç¬¦åˆå“ç‰Œéœ€æ±‚
   - èª¿æ•´éŸ¿æ‡‰å¼æ–·é»ä»¥æ”¯æ´æ›´å¤šè¨­å‚™

## æœ¬åœ°å„²å­˜è‡³ Excel çš„è¨­å®š

å¦‚éœ€æ­£ç¢ºåœ¨æœ¬åœ°ç’°å¢ƒå„²å­˜æ•¸æ“šè‡³ Google Sheetsï¼š

1. ç¢ºä¿ `.env` æª”æ¡ˆä¸­æœ‰æ­£ç¢ºçš„ API URL è¨­å®šï¼š
   ```
   CLOUDFLARE_WORKER_URL=æ‚¨çš„å¯¦éš› Cloudflare Worker URL
   ```

2. ç¢ºèª Cloudflare Worker çš„è·¨åŸŸè¨­å®šæ­£ç¢ºï¼ŒåŒ…å«å¿…è¦çš„ CORS æ¨™é ­

3. å¦‚é‡åˆ°å„²å­˜å•é¡Œï¼Œè«‹æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤è¨Šæ¯ï¼Œå¸¸è¦‹å•é¡ŒåŒ…æ‹¬ï¼š
   - CORS éŒ¯èª¤ï¼šç¢ºèª Cloudflare Worker è¿”å›æ­£ç¢ºçš„ CORS æ¨™é ­
   - URL éŒ¯èª¤ï¼šç¢ºèªç’°å¢ƒè¨­å®šä¸­çš„ URL æ ¼å¼æ­£ç¢ºä¸”æœ«å°¾åŒ…å«æ–œç·š (/)

4. æœ¬åœ°æ¸¬è©¦æ™‚ï¼Œå¯èƒ½éœ€è¦ç¦ç”¨ç€è¦½å™¨çš„æŸäº›å®‰å…¨è¨­å®šï¼Œæˆ–ä½¿ç”¨æ”¯æ´è·¨åŸŸè«‹æ±‚çš„æœ¬åœ°ä¼ºæœå™¨

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ã€‚

## è¯çµ¡æ–¹å¼

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€šéä»¥ä¸‹æ–¹å¼è¯ç¹«ï¼š

- GitHub Issues: [https://github.com/ouhsiu1993/event-generator/issues](https://github.com/ouhsiu1993/event-generator/issues)
- Email: ouhsiu1993@gmail.com

## ğŸ™ é³´è¬

- [PptxGenJS](https://github.com/gitbrent/PptxGenJS) - PowerPoint ç”Ÿæˆåº«
- [Tailwind CSS](https://tailwindcss.com/) - å¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶
- [Cloudflare Workers](https://workers.cloudflare.com/) - é‚Šç·£é‹ç®—æœå‹™
- [Google Apps Script](https://developers.google.com/apps-script) - é›²ç«¯è‡ªå‹•åŒ–å¹³å°